#!/usr/bin/env bash

set -o errexit  # stop on first error
#set -o xtrace  # log every step
set -o nounset  # exit when script tries to use undeclared variables

echo "Syntax check started for $0. On any syntax error script will exit"
bash -n .config # check and exit for syntax errors in script.
echo "Syntax is OK."

IMAGE_NAME="core-image-minimal"

DOWNLOAD_PATH="/build/${MACHINE_NAME}"
YOCTO_DIR="${PWD}"
SCRIPTS_FOLDER="${PWD}/../scripts"
TESTS_FOLDER="${SCRIPTS_FOLDER}/tests"
BUILD_DIR="${DOWNLOAD_PATH}/build_${TARGET_ARCH}"
SSTATE_DIR="${DOWNLOAD_PATH}/sstate-cache"
TMPDIR="${DOWNLOAD_PATH}/tmp"
DEPLOY_DIR="/build/yocto_${MACHINE_NAME}/tmp/deploy"

POKY_DIR="${DOWNLOAD_PATH}/poky"
OE_DIR="${DOWNLOAD_PATH}/meta-openembedded"
META_VIRTUALIZATION_DIR="${DOWNLOAD_PATH}/meta-virtualization"

QEMU_NAMED_IN="${DOWNLOAD_PATH}/guest.in"
QEMU_NAMED_OUT="${DOWNLOAD_PATH}/guest.out"

GIT_BRANCH_URL="https://github.com/cevatbostancioglu/meta-virtualization-ci.git"
GIT_CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)